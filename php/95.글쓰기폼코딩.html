<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>써머노트 세팅 이후 글쓰기폼코딩</title>

    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" />
  </head>
  <body>
    <div class="container">
      <h2>써머노트 세팅 이후 글쓰기폼코딩</h2>

      <br />
      <br />
      <h1 class="mb-5">자유게시판</h1>

      <!-- 본문 -->
      <div>
        <input type="text" name="title" placeholder="제목" class="form-control mb-2 w-25 title-input" />
      </div>

      <div id="summernote"></div>

      <div class="mb-2 d-flex gap-2" style="flex-direction: column; margin-top: 50px">
        <!-- 작성자 -->
        <label for="name" class="d-flex"
          >작성자
          <input type="text" name="name" placeholder="작성자" id="name" class="form-control w-25 mb-3 name-input" />
        </label>

        <!-- 패스워드 -->
        <label for="password" class="d-flex"
          >비밀번호<input
            type="password"
            name="pw"
            placeholder="비밀번호"
            id="password"
            class="form-control w-25 password-input"
        /></label>
      </div>

      <div class="btn-box mt-3">
        <button class="btn btn-secondary">목록</button>
        <button class="btn btn-primary btn-submit">등록</button>
      </div>
    </div>

    <script>
      const SubMitBtn = document.querySelector('.btn-submit');
      SubMitBtn.addEventListener('click', function (e) {
        e.preventDefault;
        const TitleInput = document.querySelector('.title-input');
        const NameInput = document.querySelector('.name-input');
        const PassWordInput = document.querySelector('.password-input');
        if (TitleInput.value == '') {
          alert('제목을 입력해 주세요');
          TitleInput.focus();
          /* return false;를 하는이유는 등록 버튼을 클릭했을때 서브밋되는걸 방지 해주기 위함 */
          return false;
        } else if (NameInput.value == '') {
          alert('작성자 입력해 주세요');
          NameInput.focus();
          return false;
        } else if (PassWordInput.value == '') {
          alert('비밀번호를 입력해 주세요');
          PassWordInput.focus();
          return false;
        }
        //썸머 노트는 썸머노트만의 독특한 접근 방식이 있다
        const markupStr = $('#summernote').summernote('code');
        //써머 노트 에디터 기능중 코드 뷰 본후 텍스트가 어떤식으로 보내지는지 확인을 하고 아래 문법을 작성해야함
        // console.log(markupStr);
        if (markupStr == '<p><br></p>') {
          alert('내용을 입력하세요');
          return false;
        }

        /* 폼작성이 끝났을 경우 폼을 전송해야함  */
      });
    </script>

    <script>
      /* 써머리 폼  */
      $('#summernote').summernote({
        placeholder: '플레이스 홀더',
        tabsize: 2,
        width: 500 /* 게시판 가로값 */,
        height: 200 /* 게시판 세로값 */,
        toolbar: [
          ['style', ['style']],
          ['font', ['bold', 'underline', 'clear']],
          ['color', ['color']],
          ['para', ['ul', 'ol', 'paragraph']],
          //   ['table', ['table']],
          //   ['insert', ['link', 'picture', 'video']],
          ['view', ['codeview']],
          //   ['view', ['fullscreen', 'codeview', 'help']],
        ],
      });
    </script>
  </body>
</html>
